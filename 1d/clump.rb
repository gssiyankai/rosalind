def count s1, s2
  (0..s1.size-s2.size).count { |i|
    s1[i..i+s2.size-1] == s2
  }
end


genome = 'GTTAGAGCAGGAAATTTACGACCACCCTAATGACTCGGCCCGCTGAACAGACAATGAATTTCCTAGTAACGGAGTGTACGCGCGAATTGGGGCATGAAAGGGCCCCAGGTCGCGCGCTAAAGTACTGGAGGAAGCTTGGGCGCCGCCAACGTTTTCGCCGATTTCTTAGAAACCACTGCGTTGGATGTCGGCCATCGGGCTTGGCAATCCTTTAATCAGTTGGCCGCCAACCCCTTGCACTCACGTTCATTCGATGACAGCAAGTTTTAAACACACGTGCATATGCACGTCTCCCGCAATTATTTCCGCCTTGCCTCGGAATGTCTTCCCAAAGTAGTCTAATCGCATTAGGACCTCACTATATTAGGTCGTAGCGATTCGAACCTCCGTGTGGGACCGTTTAAGACCGCTTCTGCGAGGTCCTCCCCTGGCGTGCGAGTGAGACCGCTGACGAGTTGGCTTATGCTTAAATCCTTCTTAAACGTGCCTTTTAGCGGCTCGCGCGTGGCGTGCTGCTATGACGAAGGAAACCAAGGAGGGAATAATAATCGAGTTAGTCCTGGTAAGCGCAACGTAACCCACACCTGATTCGTAAATTACGGAATTGATCTGACTGACGGTCTCTCCTGGTGCGCCAATAGTCTAGACTCCGTCGTGGCGCGTTGCCACGCAAGAGGAAAAACGGCAAGCTGTGATTGTGATCGCGCAAGCTGTGATGTCCAGGGCGAAGCAAGCAGGCAGCTCTCGGTCTGTGATGCAGGCAGCTCTCGGTGAGACTAGGAAAGGCAGCTCTCGGTGATGGTTTGCAAGCTGTGAGCGCAAGCTGTGATAAGCTGTGATAGGGTGGTTAGTATTCCCGGGGGCAGCTCTCGGTGCGCAGCTCTCGGTGGTCGGCAGCTCTCGGTTGCAGGCAGCTCTCGGTATGCTGTGATAAGAGGCAGCTCTCGGTGCAGCTCTCGGTCAATACGGCAGCTCTCGGTCTCTCGGCAGCTCTCGGTTCGGTTGGCCCTCCAGATTGACCGGCAGCTCTCGGTGCCCGATTCATTTGAGATGAATTCGCAGAAGAGTTGACAGCTGCAGGCGCAAGCTGCAGCTCTCGGTAAGCTGTGCAGCTCTCGGTCTCTCGGTTGTGATACGACAACCATAGCAGCTCTCGGTAAGACTTCCATTCCCATGTGCGCAGCTCTCGGTTGCAGCTGCAGCTCTCGGTGATGCAAGCTGTGATGCAAGCTGTGATTATTAAGCAGCTCTCGGTGGGCGCGGGCAGCGCAGCTCTCGGTCGAGGGCGCAGCTCTCGGTGCCTGCCTCGCCCGTACTGTAGTCCGGCCTCCAAAGAGTTACTTGGGGGCACCCCATGTAGGTAGTCAAGAGATGGCGCATTATGCGGATAAAGCTTTCTAGGTACAGGGAAGGCACGAGAACGACCCTGTCCCAGGCGGGATCGTTCGTCGATGATAGATCGGAGTAAACGGGTGGCGCGGTGCGTCGGATTTCCGAGGAGTTGGTACATTGACCGTCAGAGATGCCCAAGTATGGTTATCCGCCTGCATCATCTCTTCGGTTTCTAACACGAACCGCTTGCGAGAGTAGCGAGGAAATCATTCTGTTGCCTATAAGATCGATCACGTATCGCTAACGTGCTAAATTGACAGCAGAGCAAGCCTAGTACCCGACATGGATGGTGGTCTGGGTCGCGTCCAGCGATGCACCGTCGTATTTATTGCTTCGCCTCTGGGGGAAAGTACCGAAAAGACCGACTGACTTCAAACCTAAAAATTAATCATCTGCACGGGGAACGCTGTAGCGCCTTTGGCAATAAATGGCATGCCACCTGGAAGTTTAAACCTGCATCGCACTACGGGAGTTCAGGCCCGTTAGAATCAGAGATCACTGGATATTCAGTTCAAGTAAAGGCGTGGGCGCACTTGTAGTAGGTAGTGTATCGTTTAGGGTTCATTACGAAGTTCTGAAGCCTCCATCGCTGATGGACAAACGTATCATTGGTTTAACTGCCTATTTGGGTAAGCTGGCCGGAAGCAAGATACGGAGAGTACTATCCCCGTAACCAATAGATTGCTTATGTTACTGCCGGCTCCGTAGGTTGAAACGGTTGTGGAGACTACGCGGACGCCTAGGCAAAGTCAAGCTCATCCCTTGTTGTGGACCTTATCTGCCAGAGAAACCAATTGCGTCACCGGCAAGTTCACGGTCACGCTCCCGCCTTGGGGATTGGTTTATCTGCCGCCATACCTGGGATCCGTAAGATCGATGGCCCCTCTGACGTTATTTATCTGCTGTTCTCTCGCACAAAGACCTTGCCAAGAGAGTAGCGAACCGCTCTCGGTGTTCCGTGAGGGGTCCACTTTCTGAACTAATATGGGTTCGCCTCACTAAAATTAGTCCCCCGATGAAGTATGATTGTAGCGCTAAGGAAATACAATAAATACCTGGACTGTAGGGACTGATCTGTTTAGGACTGATGGGTACACAGTAGCCTCATTTCAGACCGGCGGCGCGACGCCCTTGACCAGACGACGTCCTGCTACGCCAGCACCCCGTCCGACTTTGCGTATTACCTACGTCGTCACTCTCGCATACAACTGAGTTCACGTATACCGTTTCCGCAGAAGAGTACTCTCCTTTTAGTTTCGTGTTGCGACAGTTCGTTGCGTCAGCTCAGGGTTTCAGTCCGATAACGCAGTTCTGTCTAATAGCACGCGGCAAGCATAGTCAATTATGCATTAAGGCCTAACTTTCTTCACACGGCGACACTACGCTTCCTAACCCCGTTACGGAGAGGTGCGCCTTCTCGAGCACCGGGATGGCCACGCCGGAACACTCACCTCCTCTTGTAGACCCAGGTGCCGGCACGGTACGCCTCTTGTAGACCTTCTCCCTCTTGTAGACAGGCTACTCAATGGGATTGTCAAACTTCTGCAGATAAGGCTAAGAGCTATTTACCCATTTCCACGCGGAGTGCCTCTTGTACCTCTTGTAGACGTAGACATACGCCTCTTGTAGACGGGAGAGTCTGAAGACGGAGCGCCATGACCTCTTGTAGACGTCTACATCCTCTTGTACCTCTTGTAGACACCCTCTTGTAGACTAGACTAGAATTCCTCTTGTAGACGCCTCTTGCCTCTTGTAGACCTCTTGTAGCCTCTTGTAGACTGGAGCCTCTTGTAGACTATTGGCTACCTCCCTCTTGTAGACTGAGTGTTGGCCCCCTCTTGTAGACGGGTGACCAATGATACACTGTATGTCGGATTTTGCTCTTCCTCTTGTAGACTTTCGTCCCTCTTGTAGACGCCTCTTGTAGACGTTTCCCGGATTTTGCTCCTCTTGTACCTCTTGTAGACTTTTCCCTCTTGTAGACCTTTTCGATCCACCTTTCCTCTTGTAGACCGGATTTTGCTCCCCTTTTCGATCCGATTTTCGGATTTTGCTCGTTTCGCGATTTTCCCAAATAGTCGCTATTCCTTTTCGATCCTTTGCTCCTTTTCGATCCGGATTTTCCTTTTCGATCCTGCTCGGGGGGGGGTACCTTTTCGATCCATCCTTTTGCTCGATCGGACGGCCTTTTCGATCCCCCGGATTTTGCTCATCCCACTACAAAGCGGATTCCTTTTCGATCCCAACGGATTTCGGACCTTTTCGATCCATCCCCTTTTCGATCCGATTTTGCTCGGCCTTTTCGATCCCGGATTTCGGCCTTTTCGATCCCTCCCTTTTCGATCCGCTCTGTCCCTTTTCGATCCACACGACTGCCGGATTTTGCTCTATCCAGCCCTTTTCGACCTTTTCGATCCTTGCGGATTCGGATTTTGCTCGCCCTTTTCGATCCGAGGGCCTCCTTTTCGATCCACCTTTCCCCTTCCTTTTCGATCCCCTTTTCCCTTTTCGATCCTAGTACCACCTAGATTATGGCGACCTTTTCGATCCGGAAAACCAACAGGTGCAAGTTCGCCCTGAGAGCCACAGGTTCTCTGACTACAGCAATCTAGCAGGCCCACTGTGGCGAGAGGAATGATTGTAAGAATTGGCGGCAGAAAAGTAGTTCCTTTGGGATAGGGCCATCAACCGGGTTGGGCAGGACTGCCAGTCGTCTGATACGACTCCACATAAGTCGCGCCATCTAGACGTTGCTCAGCAACCATCTACGTCTACTGGTATTGTTCCGCGCCTTACCATGTCCCCAGTTGTTTATCTTGTACGTATCTTTCAGAGACCTGTTTCACCCACCGGCAGGTGATGAAAGCCAGCGTACGTAAGGATACGTTAATGTGTGTAAACCATGGCGCCAAGGGTCGTCGTACTCGTGGAGTGGTCCGAAGAAGGGTTCTGTTAGCACAAAATGGATCGCCATCCTATCCATTTTTATTTTAAACCGTCTCTTTCCTCCCACGGCTGATTGCGAAGCTTTTTGACTCCATGAAATGATTTAAATTGCATCGACGGACGCCTCCTCCGTCAGCCTCAACACTCAAACAGTGCTACGGACTATGATAAAGATGCGACAATGTAGGTTCTGAGATACGGCAGACAGGCGTGAATGATTTGTTAACCAAGCCCGCAATTACAATACTAATATACAAACACTTTCCGCTCGTTGGTTCGATGTGGTCCTCCGCCAGGGGGCTAGCGGCCTACCCCACAACCCCATTTGAGAAAGCGAGAAACGCTGTGCGGCTTAAAACGGGCGGCTGCATGCGGCGTCTTTTCCTTGCGACCATACAGCCCCGCTATATCTGGCAGGTAACCCCTTCTGGGAATCAGGTTTGCCATATACCTATATATGAAAATCTCGACACCGTACGCGTCTCTTGCTGGCGCCGCGATGGCACGATCATCATCTTTTCGCATAGATCGCTATCCTGATTAGATCCTGCTTCTGGTAGATCCCAGTCTGGTAGATCCGGATCACTGCGTCTGGTAGATCCAGATCCGCACGTTTTTCTGGTAGATCCCGAATTTACCATCAATACCGCGGTTGGTCCGGCTCCTCTGGTAGATCCTTTGATTCTAGCTGATTTGTGTCGATCTGGTAGATCCGATGCTGCGTCATCTGGTAGATCCCTCTGTATCTGGTAGATCCTTTCTGGTAGATCCGATTGATATTCTGGTAGATCCCTTGCAGTATTCTGGTAGATCCCCATTCTGGTAGATCCGAACTTTACATCTGGTAGATCTGGTAGATCCGATTGATTCTGGTAGTCTGGTAGATCCCTGGTAGATCCCGCCTCAAGTCGTCGCTTGAAGTGTACGAGGGCTTAATAGGCGTGGATTACTGATGACCTCTTTTCTGGTAGATCCTGGTAGATCCCTCTGGTAGATCCACTGCGTGGATGGCGGCTTCTGGTAGATCCGCTACACTCTGGTAGATCCGTCCCTAAGTGTTTTCTGGTAGATCCTTTTCTGGTAGATCCCGATGCCTGCTCTGGTAGTCTGGTAGATCCGTATCTGTTACTTGACGAGGTATACAAGATTACGGTGCGCGTACTAAAGAATTATTCGTGACTATCGGTAAGCACCATCCTAACGTGAGTCCGCAGCGATCGAGCGTCGGGCGTCGGGGCGTCGGGTCCGGCGTCGGGTCCGGCCTGAAGCGCGGCCTGCGTCGGGTCCGCGTCGGGTCCGATCCCTTCTAATTCTTTACTGCGTCGGGTCCGCGTCGGGTCCGCGGGTCCGAGCGCGCGTCGGGTCCGAAACGGCCTGGCGTCGGGTCCGCGTCGGGTCCGGTCGGGTCCGATAGCAAGTATTGGGTACGGCCTGAAGCGCAGGCCTGAAGCGCAGGCCTGAAGCGCGTCTCTTGGACATAGCGTCGGGTCCGGGTCCGGAAGCGCCTAGACCGGCCTGAAGCGCAGAGCGTCGGGTCCGAGGCGTCGGGTCCGTCCACGGCCTGAAGCGCGCGTGCGTCGGGTCCGGCCTGAAGCGCCGACTATGGCCTGAAGCGCGGCCGCGTCGTTTTGCGCACATCTATCTGGTCCGGGTTGCGCACATCTTGCGCACATCTCCGCGGTTGCGCACATCTCAGGAGGCGGCCTGAAGCGCAGCGTCGGTTGTTGCGCACATCTGCTTGCGCACATCTTCGGGTCCGAGCGCCCTGGCGTCGGGTCCGCTATCTTAGGGCCTGAAGCGCAGGCCTGAAGCGTTGCGCACATCTTAATTGAGCCAGCGGGATGGGTTGAATATCTTGCTTGCGCACATCTTTAGGGGACATCTTAGGGGTTGCGCACATCTAGTCGTTGCGCACATCTGACATTTTTGCGCACATCTTCTGGGACATCTTAGGGGACAGCTATCTTAGGTTGCGCACATCTGGCCTTGCGCACATCTCAGATCTTAGGGGTTGCGCACATCTATCTTAGGATTGCGCACATCTATCTGGCAATCTTTTGCGCACATCTTCAGCTGATTGCGCACATCTGGGGACTTAGGGGACTTGCGCACATTTGCGCACTTGCGCACATCTGCACATCTAATGCCCTTGCGCACATCTGGGTTTGCGCACATCTCACCGTAAACGTATACTTGCGCTTGCGCACATCTAGCAACACTATCCGCATAGAATTGCACAAATCCTTTCCCACGGCCTGTATAGGAGTACCCGGTTTGAGCGTTAAGAGGAATATAATAATATTCTTATACTTGCTAAAACAAACAACGACCTTCGTGCAAAATTGCGGAGTCAATCCTCGTGGTGTCAAATGTTCATCCGGATCGCCTTCGAACAGTGCTTCGCACCGCAGGCCGACCGCCACTAGGCTGCGTGAGGTGCGGGATGACGCTGGACGCGCGACTGGCGCGTCGCTTAGAGATCTCTGCAATCAACTAGGGTGATAGATTTAAAAGGCGGCCCGACGTCCTAATCCAGCCTGTAAGAGACGAATATGAGTAGGATAGTATCGCGATTACCTAGTACACCCAGGTGAAGGCCCTTACGGTACACGTCTTACTCTTTGAACTGCAACAAGTATATCAGACGCTGGTCAACGCCATCACCGTAGGCGGGTGGATGCACGAAAGAATTCTCCAGATGATCACGTGGGGCGATGCGGCTTTGATCGAATGGATGCCTTACTGCTGGGGTAGCGGTACTCAATAAGACATGCACGTTCTTATGCCGGTCCAGAATTGTAACCGCCCCGGCTCGGTCTTTTACATCCAACTCGTTCATTCACAGTATTGCTCGGATTAAATGGTGCTTGTAATGGCGGGCGCTCCCTCCTTTTATCCCGATAGGTTAAGGTTCTTATCCCGATAGGCTTAAGAGTTACTATCCCGATAGGCTATCCCGATAGGCAACTCATATCCCGATAGGACTTAGTTATTAGTCCACTGATTATCCCGATAGGCCCGATATCCCGATAGGGTTAACAAATTATATCTATCCCGATAGGCGATAGGCCCGATAGGCTCATGAATATTAGTCGTTATAGTGTACTTGCGATCGTGCGGTTCTATCCCGATAGGCTATCGATTGTTATCCCGATAGGAGGTGTTTTACCGATCATCCCCCATATCCCGATAGGCCGATAGGTTGTATCCGACTATCCCGATTATCCCGATATCCCGATAGGGAAGGACTATCCCGATAGGCCCGTAATATATTATCCCGATAGGTACGTAACACCGGAAATGCCACGTTCTATCCCGATAGGCGAGAAACTATCCCGATAGGCATATCCCTATCCCGATAGGAATGTATGACTTCGGTATATGCGCGCTTTTATCCCGATAGGATCGTATCCCGATAGGATACAGCTCACTATCCCTATCCCGATAGGAGCCATAATTCCCGCCCTCGCCTAGGTTGCGTTTCAGGCGTTCCTTCAGATGATTCGGGGCCCGATCCACAGGCGGCCGAGCGCAAGGACGATGGCCCGTTGGCGACTGTCGATAATAGGTGTATTTAAGACCCAGGTACCGAGAACAGGCACGAGTATTATAGATTTACGATAAACTGTAATGGACACGCTATGGCCTACTATCGCTCCGGTGCTGTGTCGCAAATCCATCCTAGCCCCAATGTAACAATATCTGGTCAGCCTCAAACCGAGGCATGAGTCCGCGAACCAACAGTGACTTAGTCTGGACGCCTGACAAGGTTTAATCAAAAAGGTGAATAAGTTCGCTATGTCGTTTAGCGTGTCTGAGCTCGCCAGGAGAAGGGGTGATCCGGTGCATCGCCTTGTGGGACGCCCCTATCCAAATGCTTAGGTGTTTACCCAGCTGAGTGCGATTCAATTATTAGATAGAGACAACCACCAATCGTTACTGGTTTCTGAAGTTACTCAATGCGCCCTAGTAATGTCAGTTTCGAAATTGAGGGTTAGACCCTGGAATCGATCGTTTTCTCGGACTACACGGGCTCTTGCTAGGTTTAGGGGCTCTTGCTAGCTAGGGCTCTTGGGGCTCTTGCTATGCTAACAGCCGAGTAGGACGGTCTAATCAAGAAAACCCAACAGTCGGGCTCTTGGGCTCTGGGCTCTTGCTACCCTCCGGGCTCTTGCTACTCTTGCTAAAATTTCGCTACCTCAGGGCTCTTGCTAGGCTCTTGCTAGGGCTCTTGCTAGGGGGGCTCTTGGGGCTCTTGCTATATTGCGGGCTCTTGCTATTGCTAGGGCTCGGGCTCTTGCTATTGCTAGGGCTCTTGCTAGGGCTCTTGCTAGGGCTCTTGCTAGGGCTCTTGCTA'
k = 12
t = 17


kmers = (0..genome.size-1-k).map { |i| genome[i..i+k-1] }.uniq

p kmers

puts kmers.select { |kmer|
            count(genome, kmer) >= t
          }
     .join(' ')